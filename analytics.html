<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Analytics - Dashboard</title>
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <!-- Bootstrap Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css" rel="stylesheet">
    <!-- Custom Styles -->
    <link rel="stylesheet" href="static/css/Dashboard.css">
    <!-- Feather Icons -->
    <script src="https://unpkg.com/feather-icons"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- Mobile menu toggle button -->
    <button class="mobile-menu-toggle" id="mobileMenuToggle" aria-label="Toggle navigation menu">
        <i data-feather="menu"></i>
    </button>

    <!-- Sidebar Navigation -->
    <aside class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <h2 class="logo">
                <i data-feather="grid"></i>
                <span>Dashboard</span>
            </h2>
        </div>
        
        <nav class="sidebar-nav">
            <ul class="nav-list">
                <li class="nav-item">
                    <a href="index.html" class="nav-link">
                        <i data-feather="home"></i>
                        <span>Dashboard</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="analytics.html" class="nav-link active">
                        <i data-feather="bar-chart-2"></i>
                        <span>Analytics</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="authors.html" class="nav-link">
                        <i data-feather="users"></i>
                        <span>Authors</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="books.html" class="nav-link">
                        <i data-feather="book"></i>
                        <span>Books</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="profile.html" class="nav-link">
                        <i data-feather="user"></i>
                        <span>Profile</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a href="settings.html" class="nav-link">
                        <i data-feather="settings"></i>
                        <span>Settings</span>
                    </a>
                </li>
                <li class="nav-item nav-item-logout">
                    <a href="logout.html" class="nav-link">
                        <i data-feather="log-out"></i>
                        <span>Logout</span>
                    </a>
                </li>
            </ul>
        </nav>
    </aside>

    <!-- Sidebar overlay for mobile -->
    <div class="sidebar-overlay" id="sidebarOverlay"></div>

    <!-- Main Content Area -->
    <main class="main-content">
        <!-- Top Header -->
        <header class="header">
            <div class="header-content">
                <div class="header-left">
                    <h1 class="page-title">Analytics Dashboard</h1>
                    <p class="page-subtitle">Comprehensive insights and data visualization</p>
                </div>
                <div class="header-right">
                    <div class="user-profile">
                        <div class="user-avatar">
                            <i data-feather="user"></i>
                        </div>
                        <div class="user-info">
                            <span class="user-name">John Doe</span>
                            <span class="user-role">Administrator</span>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Analytics Content -->
        <section class="dashboard-content">
            <!-- Analytics Summary Cards -->
            <div class="stats-grid">
                <div class="stat-card" data-bs-toggle="tooltip" title="Page views this month">
                    <div class="stat-icon stat-icon-primary">
                        <i data-feather="eye"></i>
                    </div>
                    <div class="stat-content">
                        <h3 class="stat-number">124,589</h3>
                        <p class="stat-label">Page Views</p>
                        <span class="stat-change stat-change-positive">
                            <i data-feather="trending-up"></i>
                            +15.3%
                        </span>
                    </div>
                </div>

                <div class="stat-card" data-bs-toggle="tooltip" title="Unique visitors this month">
                    <div class="stat-icon stat-icon-success">
                        <i data-feather="users"></i>
                    </div>
                    <div class="stat-content">
                        <h3 class="stat-number">32,451</h3>
                        <p class="stat-label">Unique Visitors</p>
                        <span class="stat-change stat-change-positive">
                            <i data-feather="trending-up"></i>
                            +9.8%
                        </span>
                    </div>
                </div>

                <div class="stat-card" data-bs-toggle="tooltip" title="Average session duration">
                    <div class="stat-icon stat-icon-warning">
                        <i data-feather="clock"></i>
                    </div>
                    <div class="stat-content">
                        <h3 class="stat-number">4:32</h3>
                        <p class="stat-label">Avg. Session</p>
                        <span class="stat-change stat-change-positive">
                            <i data-feather="trending-up"></i>
                            +2.1%
                        </span>
                    </div>
                </div>

                <div class="stat-card" data-bs-toggle="tooltip" title="Bounce rate percentage">
                    <div class="stat-icon stat-icon-info">
                        <i data-feather="activity"></i>
                    </div>
                    <div class="stat-content">
                        <h3 class="stat-number">28.5%</h3>
                        <p class="stat-label">Bounce Rate</p>
                        <span class="stat-change stat-change-negative">
                            <i data-feather="trending-down"></i>
                            -1.2%
                        </span>
                    </div>
                </div>
            </div>

            <!-- Charts Grid -->
            <div class="content-grid">
                <div class="content-card">
                    <div class="card-header">
                        <h3 class="card-title">Traffic Overview</h3>
                        <div class="dropdown">
                            <button class="card-action" data-bs-toggle="dropdown">
                                <i data-feather="more-horizontal"></i>
                            </button>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="#">Last 7 days</a></li>
                                <li><a class="dropdown-item" href="#">Last 30 days</a></li>
                                <li><a class="dropdown-item" href="#">Last 90 days</a></li>
                            </ul>
                        </div>
                    </div>
                    <div class="card-content">
                        <canvas id="trafficChart" height="300"></canvas>
                    </div>
                </div>

                <div class="content-card">
                    <div class="card-header">
                        <h3 class="card-title">Top Pages</h3>
                        <button class="card-action">
                            <i data-feather="external-link"></i>
                        </button>
                    </div>
                    <div class="card-content">
                        <div class="analytics-list">
                            <div class="analytics-item">
                                <div class="analytics-content">
                                    <p class="analytics-title">/dashboard</p>
                                    <span class="analytics-subtitle">45,289 views</span>
                                </div>
                                <div class="analytics-progress">
                                    <div class="progress">
                                        <div class="progress-bar bg-primary" style="width: 85%"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="analytics-item">
                                <div class="analytics-content">
                                    <p class="analytics-title">/analytics</p>
                                    <span class="analytics-subtitle">32,156 views</span>
                                </div>
                                <div class="analytics-progress">
                                    <div class="progress">
                                        <div class="progress-bar bg-success" style="width: 65%"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="analytics-item">
                                <div class="analytics-content">
                                    <p class="analytics-title">/books</p>
                                    <span class="analytics-subtitle">18,943 views</span>
                                </div>
                                <div class="analytics-progress">
                                    <div class="progress">
                                        <div class="progress-bar bg-warning" style="width: 45%"></div>
                                    </div>
                                </div>
                            </div>
                            <div class="analytics-item">
                                <div class="analytics-content">
                                    <p class="analytics-title">/authors</p>
                                    <span class="analytics-subtitle">12,765 views</span>
                                </div>
                                <div class="analytics-progress">
                                    <div class="progress">
                                        <div class="progress-bar bg-info" style="width: 30%"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="content-card">
                    <div class="card-header">
                        <h3 class="card-title">Device Breakdown</h3>
                        <button class="card-action">
                            <i data-feather="refresh-cw"></i>
                        </button>
                    </div>
                    <div class="card-content">
                        <canvas id="deviceChart" height="250"></canvas>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Bootstrap JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // Initialize Feather Icons
        feather.replace();

        // Mobile menu functionality
        const mobileMenuToggle = document.getElementById('mobileMenuToggle');
        const sidebar = document.getElementById('sidebar');
        const sidebarOverlay = document.getElementById('sidebarOverlay');

        function toggleSidebar() {
            sidebar.classList.toggle('sidebar-open');
            sidebarOverlay.classList.toggle('overlay-active');
            document.body.classList.toggle('sidebar-mobile-open');
        }

        mobileMenuToggle.addEventListener('click', toggleSidebar);
        sidebarOverlay.addEventListener('click', toggleSidebar);

        // Close sidebar when clicking on navigation links on mobile
        const navLinks = document.querySelectorAll('.nav-link');
        navLinks.forEach(link => {
            link.addEventListener('click', () => {
                if (window.innerWidth <= 768) {
                    toggleSidebar();
                }
            });
        });

        // Handle window resize
        window.addEventListener('resize', () => {
            if (window.innerWidth > 768) {
                sidebar.classList.remove('sidebar-open');
                sidebarOverlay.classList.remove('overlay-active');
                document.body.classList.remove('sidebar-mobile-open');
            }
        });

        // Initialize page animations
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize Bootstrap tooltips
            var tooltipTriggerList = [].slice.call(document.querySelectorAll('[data-bs-toggle="tooltip"]'));
            var tooltipList = tooltipTriggerList.map(function (tooltipTriggerEl) {
                return new bootstrap.Tooltip(tooltipTriggerEl);
            });

            // Animate elements on load
            const statCards = document.querySelectorAll('.stat-card');
            statCards.forEach((card, index) => {
                card.style.animationDelay = `${index * 0.1}s`;
                card.classList.add('fade-in-up');
            });

            const contentCards = document.querySelectorAll('.content-card');
            contentCards.forEach((card, index) => {
                card.style.animationDelay = `${0.4 + index * 0.1}s`;
                card.classList.add('fade-in-up');
            });

            document.querySelector('.header').classList.add('slide-down');
            document.querySelector('.sidebar').classList.add('slide-right');

            // Initialize charts
            initializeCharts();
        });

        // Initialize Chart.js charts
        function initializeCharts() {
            // Traffic Chart
            const trafficCtx = document.getElementById('trafficChart').getContext('2d');
            new Chart(trafficCtx, {
                type: 'line',
                data: {
                    labels: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul'],
                    datasets: [{
                        label: 'Page Views',
                        data: [12000, 19000, 15000, 25000, 22000, 30000, 28000],
                        borderColor: 'hsl(221, 83%, 53%)',
                        backgroundColor: 'hsl(221, 83%, 53%, 0.1)',
                        tension: 0.4,
                        fill: true
                    }, {
                        label: 'Unique Visitors',
                        data: [8000, 12000, 10000, 15000, 14000, 18000, 16000],
                        borderColor: 'hsl(142, 71%, 45%)',
                        backgroundColor: 'hsl(142, 71%, 45%, 0.1)',
                        tension: 0.4,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'top',
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true
                        }
                    }
                }
            });

            // Device Chart
            const deviceCtx = document.getElementById('deviceChart').getContext('2d');
            new Chart(deviceCtx, {
                type: 'doughnut',
                data: {
                    labels: ['Desktop', 'Mobile', 'Tablet'],
                    datasets: [{
                        data: [60, 30, 10],
                        backgroundColor: [
                            'hsl(221, 83%, 53%)',
                            'hsl(142, 71%, 45%)',
                            'hsl(38, 92%, 50%)'
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                        }
                    }
                }
            });
        }
    </script>
</body>
</html>